<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobahi - Free Books to Read Online</title>
    <meta name="description" content="Read 'The Whispering Kothi' and other exciting books for free on Mobahi. An online library for readers of Odia, English, Hindi and more.">
    <meta name="keywords" content="free books, read online, the whispering kothi, horror books, mobahi">
    <link rel="canonical" href="https://your-username.github.io/mobahi-app/">
    <meta property="og:title" content="Mobahi - Read 'The Whispering Kothi' for Free">
    <meta property="og:description" content="A chilling horror story awaits. Discover and read free books online on Mobahi.">
    <meta property="og:image" content="https://your-username.github.io/mobahi-app/assets/covers/the_whispering_kothi_cover.jpg">
    <meta property="og:url" content="https://your-username.github.io/mobahi-app/">
    <meta property="og:type" content="website">

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Paste CSS styles from previous answer here -->
    <style>:root{--primary-bg:#121212;--secondary-bg:#1E1E1E;--text-primary:#FFFFFF;--text-secondary:#B3B3B3;--accent-green:#1DB954;--card-bg:#282828}*{margin:0;padding:0;box-sizing:border-box}body{background-color:var(--primary-bg);color:var(--text-primary);font-family:'Inter',sans-serif;padding-bottom:80px}.page{display:none;padding:16px}.page.active{display:block}.section-title{margin:24px 0 16px 0;font-size:20px;font-weight:600}.grid-container{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:16px}.bottom-nav{position:fixed;bottom:0;left:0;right:0;background-color:var(--secondary-bg);border-top:1px solid #333;display:flex;justify-content:space-around;padding:10px 0;z-index:1000}.nav-item{display:flex;flex-direction:column;align-items:center;color:var(--text-secondary);cursor:pointer;font-size:12px;flex:1;text-align:center}.nav-item.active{color:var(--accent-green)}.nav-item svg{width:24px;height:24px;margin-bottom:4px}.hero-slider-container{width:100%;height:200px;border-radius:12px;overflow:hidden;margin-bottom:24px;background-color:var(--card-bg)}.swiper-slide{cursor:pointer;display:flex;align-items:center;justify-content:center}.swiper-slide img{display:block;width:100%;height:100%;object-fit:cover}.book-carousel{display:flex;gap:16px;overflow-x:auto;scrollbar-width:none}.book-carousel::-webkit-scrollbar{display:none}.book-card{flex-shrink:0;width:140px;cursor:pointer}.book-cover{width:140px;height:210px;border-radius:8px;background-color:var(--card-bg);object-fit:cover}.book-card h3{font-size:15px;margin-top:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.book-card p{font-size:13px;color:var(--text-secondary)}.menu-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);backdrop-filter:blur(5px);display:none;z-index:2000}.menu-modal-content{position:fixed;bottom:0;left:0;right:0;background-color:var(--secondary-bg);border-top-left-radius:20px;border-top-right-radius:20px;padding:20px;animation:slideUp .3s ease-out;max-height:80vh;overflow-y:auto}@keyframes slideUp{from{transform:translateY(100%)}to{transform:translateY(0)}}.menu-modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.menu-modal-header h2{border:none}.close-menu-btn{background:0 0;border:none;color:#fff;font-size:24px;cursor:pointer}.menu-section{margin-bottom:20px}.menu-section h3{color:var(--text-secondary);font-size:14px;margin-bottom:10px;text-transform:uppercase}.menu-list{list-style:none}.menu-list li a{color:var(--text-primary);text-decoration:none;display:block;padding:12px 0;font-size:16px;border-bottom:1px solid #333}.menu-list li:last-child a{border-bottom:none}.lang-switcher{display:flex;flex-wrap:wrap;gap:8px}.lang-switcher button{background-color:var(--card-bg);border:1px solid #444;color:#fff;padding:8px 12px;border-radius:8px;cursor:pointer}.lang-switcher button.active{background-color:var(--accent-green);border-color:var(--accent-green);font-weight:700}</style>
</head>
<body>
    <main>
        <div id="home-page" class="page active">
            <div id="hero-slider-container" class="swiper-container">
                <div class="swiper-wrapper"></div>
            </div>
            <div id="home-content"></div>
        </div>
        <div id="library-page" class="page">
            <h1 class="section-title" data-lang="myLibraryTitle">My Library</h1>
            <div id="library-books" class="grid-container"></div>
        </div>
    </main>

    <!-- Paste Nav and Menu Modal HTML from previous answer here -->
    <nav class="bottom-nav"><div class="nav-item active" data-page="home-page"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L8 2.207l6.646 6.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5z"/><path d="m8 3.293 6 6V13.5a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 13.5V9.293l6-6z"/></svg><span data-lang="home">Home</span></div><div class="nav-item" data-page="library-page"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M2 4a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v11.5a.5.5 0 0 1-.777.416L7 13.101l-4.223 2.815A.5.5 0 0 1 2 15.5V4z"/></svg><span data-lang="library">Library</span></div><div id="menu-btn" class="nav-item"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 16 16"><path d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"/></svg><span data-lang="menu">Menu</span></div></nav><div id="menu-modal" class="menu-modal-overlay"><div class="menu-modal-content"><div class="menu-modal-header"><h2 data-lang="menuTitle">Menu</h2><button class="close-menu-btn">×</button></div><div class="menu-section"><h3 data-lang="language">Language</h3><div class="lang-switcher"><button onclick="loadLanguage('od')" class="lang-btn" data-lang-code="od">ଓଡ଼ିଆ</button><button onclick="loadLanguage('en')" class="lang-btn" data-lang-code="en">English</button><button onclick="loadLanguage('sa')" class="lang-btn" data-lang-code="sa">संस्कृतम्</button><button onclick="loadLanguage('ta')" class="lang-btn" data-lang-code="ta">தமிழ்</button><button onclick="loadLanguage('te')" class="lang-btn" data-lang-code="te">తెలుగు</button><button onclick="loadLanguage('kn')" class="lang-btn" data-lang-code="kn">ಕನ್ನಡ</button><button onclick="loadLanguage('ml')" class="lang-btn" data-lang-code="ml">മലയാളം</button><button onclick="loadLanguage('hi')" class="lang-btn" data-lang-code="hi">हिन्दी</button></div></div><div class="menu-section"><h3 data-lang="pages">Pages</h3><ul class="menu-list"><li><a href="about.html" data-lang="aboutUs">About Us</a></li><li><a href="privacy.html" data-lang="privacyPolicy">Privacy Policy</a></li><li><a href="terms.html" data-lang="termsAndConditions">Terms & Conditions</a></li></ul></div><div class="menu-section"><h3 data-lang="myApps">My Apps</h3><ul class="menu-list"><li><a href="#" target="_blank">My Odia Games</a></li><li><a href="#" target="_blank">SB Call</a></li><li><a href="#" target="_blank">SB SSTV Encoder</a></li></ul></div><div class="menu-section"><h3 data-lang="followMe">Follow Me</h3><ul class="menu-list"><li><a href="https://www.instagram.com/sandeepbiswalg" target="_blank">Instagram</a></li><li><a href="#" target="_blank">GitHub</a></li></ul></div></div></div>
    
    <script src="database.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
        // --- THIS SCRIPT IS THE SAME AS THE PREVIOUS ANSWER ---
        // --- THE ONLY CHANGE IS THE createBookCard FUNCTION ---
        let currentLanguage = 'en';
        const pages = document.querySelectorAll('.page');
        const navItems = document.querySelectorAll('.nav-item[data-page]');
        const menuBtn = document.getElementById('menu-btn');
        const menuModal = document.getElementById('menu-modal');
        const closeMenuBtn = document.querySelector('.close-menu-btn');

        function applyTranslations() { /* ... same as before ... */ if (typeof lang === 'undefined') return; document.querySelectorAll('[data-lang]').forEach(el => { const key = el.getAttribute('data-lang'); if (lang[key]) el.textContent = lang[key]; }); initHomePage(); if(document.getElementById('library-page').classList.contains('active')) { renderLibrary(); } }
        function loadLanguage(langCode) { /* ... same as before ... */ const oldScript = document.getElementById('lang-script'); if (oldScript) oldScript.remove(); const script = document.createElement('script'); script.id = 'lang-script'; script.src = `languages/${langCode}.js`; script.onload = () => { currentLanguage = langCode; localStorage.setItem('mobahi_lang', langCode); document.documentElement.lang = langCode; document.querySelectorAll('.lang-btn').forEach(btn => { btn.classList.toggle('active', btn.dataset.langCode === langCode); }); applyTranslations(); }; script.onerror = () => { console.error(`Failed to load language file: ${langCode}.js`); if (langCode !== 'en') loadLanguage('en'); }; document.head.appendChild(script); }
        navItems.forEach(item => { item.addEventListener('click', () => { navItems.forEach(i => i.classList.remove('active')); menuBtn.classList.remove('active'); pages.forEach(p => p.classList.remove('active')); item.classList.add('active'); document.getElementById(item.dataset.page).classList.add('active'); if (item.dataset.page === 'library-page') renderLibrary(); }); });
        menuBtn.addEventListener('click', () => { menuModal.style.display = 'block'; menuBtn.classList.add('active'); navItems.forEach(i => i.classList.remove('active')); });
        const closeMenu = () => { menuModal.style.display = 'none'; menuBtn.classList.remove('active'); const activePageId = document.querySelector('.page.active').id; document.querySelector(`.nav-item[data-page="${activePageId}"]`).classList.add('active'); }
        closeMenuBtn.addEventListener('click', closeMenu);
        menuModal.addEventListener('click', (e) => { if (e.target === menuModal) closeMenu(); });

        // --- NEW createBookCard function ---
        function createBookCard(book) {
            const cardLink = document.createElement('a');
            cardLink.className = 'book-card';
            // Pass the book ID in the URL to the details page
            cardLink.href = `book-details.html?id=${book.id}`;
            cardLink.style.textDecoration = 'none';
            cardLink.style.color = 'inherit';
            
            cardLink.innerHTML = `
                <img src="${book.coverUrl}" alt="${book.title}" class="book-cover">
                <h3>${book.title}</h3>
                <p>${book.author}</p>
            `;
            return cardLink;
        }

        function renderSection(title, books, container) { if (books.length === 0) return; const sectionTitle = document.createElement('h2'); sectionTitle.className = 'section-title'; sectionTitle.textContent = title; container.appendChild(sectionTitle); const carousel = document.createElement('div'); carousel.className = 'book-carousel'; books.forEach(book => carousel.appendChild(createBookCard(book))); container.appendChild(carousel); }
        function renderLibrary() { const libraryContainer = document.getElementById('library-books'); libraryContainer.innerHTML = ''; const history = JSON.parse(localStorage.getItem('mobahi_history')) || []; if (history.length === 0) { const p = document.createElement('p'); p.setAttribute('data-lang', 'libraryEmpty'); p.textContent = (typeof lang !== 'undefined' && lang.libraryEmpty) ? lang.libraryEmpty : 'You have not read any books yet.'; libraryContainer.appendChild(p); return; } const libraryBooks = booksDB.filter(book => history.includes(book.id)); libraryBooks.forEach(book => libraryContainer.appendChild(createBookCard(book, true))); }
        function initHomePage() { if (typeof lang === 'undefined') return; const homeContent = document.getElementById('home-content'); homeContent.innerHTML = ''; const sliderBooks = booksDB.filter(b => b.isFeaturedInSlider); const sliderWrapper = document.querySelector('#hero-slider-container .swiper-wrapper'); sliderWrapper.innerHTML = ''; sliderBooks.forEach(book => { const slide = createBookCard(book); slide.classList.remove('book-card'); slide.classList.add('swiper-slide'); sliderWrapper.appendChild(slide); }); if (sliderBooks.length > 0) new Swiper('.swiper-container', { autoplay: { delay: 3000 }, loop: true }); const newArrivals = [...booksDB].sort((a, b) => b.createdAt.localeCompare(a.createdAt)).slice(0, 10); const trending = [...booksDB].sort((a, b) => b.readCount - a.readCount).slice(0, 10); const bestSellers = booksDB.filter(b => b.isBestSeller).slice(0, 10); renderSection(lang.newArrivals, newArrivals, homeContent); renderSection(lang.nowTrending, trending, homeContent); renderSection(lang.bestSellers, bestSellers, homeContent); languagesDB.forEach(languageName => { const langBooks = booksDB.filter(b => b.language === languageName).slice(0, 10); renderSection(`${languageName} ${lang.booksSuffix}`, langBooks, homeContent); }); }
        
        document.addEventListener('DOMContentLoaded', () => { const savedLang = localStorage.getItem('mobahi_lang') || 'en'; loadLanguage(savedLang); });
    </script>
</body>
</html>